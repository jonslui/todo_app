(()=>{"use strict";let e=localStorage.getItem("task_array")?JSON.parse(localStorage.getItem("task_array")):[];const t=function(e,t,n){return((e,t,n)=>{let i={title:e,description:t,due_date:n,status:!1,children:[]};return Object.assign({state:i})})(e,t,n)};let n=localStorage.getItem("task_array")?JSON.parse(localStorage.getItem("task_array")):[];console.log(n),function(){let t=document.getElementById("content"),n=document.createElement("div");n.setAttribute("id","titles_container"),t.appendChild(n);let i=document.createElement("button");i.innerHTML="New Task",i.setAttribute("id","create_new_task_button"),n.appendChild(i),e.forEach(((t,i)=>function(t,n,i,a){let l=document.createElement("div");l.setAttribute("class","link_to_child"),l.innerHTML=t.state.title;let d=document.createElement("div");d.setAttribute("class","remove_child"),d.innerHTML="X",d.addEventListener("click",(function(){!function(t,n){let i=n.indexOf(t);n.splice(i,1),localStorage.setItem("task_array",JSON.stringify(e)),console.log(JSON.parse(localStorage.getItem("task_array")))}(t,i),l.remove(),d.remove()})),l.addEventListener("click",(function(){!function(e){document.getElementById("form_container").style.display="none",document.getElementById("create_new_task_button").style.display="";let t=document.getElementById("task_info_container");t.innerHTML="";let n=document.createElement("div");n.innerHTML="Title: "+e.state.title,t.appendChild(n);let i=document.createElement("div");i.innerHTML="Description: "+e.state.description,t.appendChild(i);let a=document.createElement("div");a.innerHTML="Due date: "+e.state.due_date,t.appendChild(a)}(t)})),a.appendChild(l),a.appendChild(d)}(t,0,e,n)));let a=document.createElement("div");a.setAttribute("id","task_display_container"),t.appendChild(a);let l=document.createElement("div");l.setAttribute("id","form_container"),a.appendChild(l);let d=document.createElement("div");d.setAttribute("id","task_info_container"),a.appendChild(d);let r=document.createElement("div");r.setAttribute("id","subtask_display_container"),t.appendChild(r)}();let i=document.getElementById("form_container"),a=document.getElementById("create_new_task_button");a.addEventListener("click",(function(){var e,l;e=i,l=a,document.getElementById("task_info_container").innerHTML="",0==e.hasChildNodes()?function(e,t,n,i){let a=document.createElement("form"),l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("class","title_input"),l.placeholder="Title",l.required=!0;let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("class","description_input"),d.placeholder="Description",d.required=!0;let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("class","due_date_input"),r.placeholder="Due date",a.appendChild(l),a.appendChild(d),a.appendChild(r);let c=document.createElement("button");c.setAttribute("type","button"),c.setAttribute("class","form_button"),c.innerHTML="Cancel",c.addEventListener("click",(function(){!function(e,t){e.style.display="none",t.style.display=""}(e,t)}));let o=document.createElement("button");o.setAttribute("type","submit"),o.setAttribute("class","form_button"),o.innerHTML="Submit",a.appendChild(o),a.appendChild(c);let s=[l,d,r];a.onsubmit=function(){!function(e,t,n){let i=n(t[0].value,t[1].value,t[2].value);e.push(i),localStorage.setItem("task_array",JSON.stringify(e))}(n,s,i)},e.appendChild(a)}(e,l,n,t):e.style.display="",a.style.display="none"}))})();